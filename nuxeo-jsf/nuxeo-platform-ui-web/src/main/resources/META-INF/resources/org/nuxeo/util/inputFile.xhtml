<ui:component xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:cc="http://java.sun.com/jsf/composite">

  <cc:interface componentType="org.nuxeo.platform.ui.web.cc.inputFile">
    <cc:attribute name="value" />
    <cc:attribute name="filename" />
    <cc:attribute name="editFilename" />
    <cc:attribute name="editFilenameLabel" />
    <cc:attribute name="required" />
    <cc:attribute name="onclick" />
    <cc:attribute name="onchange" />
    <cc:attribute name="onselect" />
  </cc:interface>

  <cc:implementation>

    <table class="dataInput">
      <tbody>
        <c:set var="currentOption" value="#{cc.checkedChoice}" />
        <ui:repeat value="#{cc.choices}" var="choice">
          <tr>

            <td class="radioColumn">
              <ui:fragment rendered="#{currentOption == option}">
                <input type="radio" name="#{cc.clientId}:choice"
                  id="#{cc.clientId}:choice#{choice}"
                  value="#{choice}"
                  onclick="#{cc.attrs.onclick}"
                  onchange="#{cc.attrs.onchange}"
                  onselect="#{cc.attrs.onselect}" />
              </ui:fragment>

              <ui:fragment rendered="#{currentOption != option}">
                <input type="radio" name="#{cc.clientId}:choice"
                  id="#{cc.clientId}:choice#{choice}"
                  value="#{choice}"
                  onclick="#{cc.attrs.onclick}"
                  onchange="#{cc.attrs.onchange}"
                  onselect="#{cc.attrs.onselect}"
                  checked="checked" />
              </ui:fragment>
            </td>

            <td class="fieldColumn">
              <label for="#{cc.clientId}:choice#{choice}"
                style="float:left">
                #{cc.getOptionLabel(choice)}
              </label>

              <nxu:outputFile
                rendered="#{choice == 'keep' or choice == 'tempKeep'}"
                binding="#{cc.outputFile}" />


            </td>
          </tr>
        </ui:repeat>
      </tbody>
    </table>

  </cc:implementation>

</ui:component>
