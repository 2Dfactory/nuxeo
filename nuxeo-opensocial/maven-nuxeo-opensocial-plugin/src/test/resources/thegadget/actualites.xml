<?xml version="1.0" encoding="UTF-8"?>
<Module>
  <ModulePrefs title="__UP_title__" title_url="__UP_titleurl__"
    directory_title="CustomRSS" author="Frédéric LAVIALE" author_email=""
    author_location="Lezennes, Fr" description="Rss Feed" height="220"
    singleton="false" render_inline="never">
    <Require feature="dynamic-height" />
    <Require feature="opensocial-0.7" />
    <Require feature="lm-actus" />
    <Require feature="settitle" />
  </ModulePrefs>
  <UserPref name="title" display_name="Titre" default_value="Actualités" />
  <UserPref name="rssTitle1" display_name="Titre onglet 1"
    default_value="" />
  <UserPref name="url_1" display_name="Flux rss 1"
    default_value="" />
  <UserPref name="rssTitle2" display_name="Titre onglet 2"
    default_value="" />
  <UserPref name="url_2" display_name="Flux rss 2"
    default_value="" />
  <UserPref name="rssTitle3" display_name="Titre onglet 3"
    default_value="" />
  <UserPref name="url_3" display_name="Flux rss 3"
    default_value="" />

  <UserPref name="num_entries" display_name="Nb actualités"
    datatype="enum" default_value="5">
    <EnumValue value="1" display_value="1" />
    <EnumValue value="2" display_value="2" />
    <EnumValue value="3" display_value="3" />
    <EnumValue value="4" display_value="4" />
    <EnumValue value="5" display_value="5" />
    <EnumValue value="6" display_value="6" />
    <EnumValue value="7" display_value="7" />
    <EnumValue value="8" display_value="8" />
    <EnumValue value="9" display_value="9" />
    <EnumValue value="10" display_value="10" />
  </UserPref>

  <Content type="html">
    <![CDATA[
<style type='text/css'>
    body {
      margin: 0px;
      font: 11px arial, helvetica, sans-serif;
    }

  a:link, a:visited{
      color: #333;
      text-decoration: none;
    }
  a:hover{
      text-decoration: underline;
    }


  a.selected {
      background-color: #bbb;
  }

/* Caution! Ensure accessibility in print and other media types... */
@media projection, screen { /* Use class for showing/hiding tab content, so that visibility can be better controlled in different media types... */
    .ui-tabs-hide {
        display: none;
    }
}

/* Hide useless elements in print layouts... */
@media print {
    .ui-tabs-nav {
        display: none;
    }
}

/* Skin */
.ui-tabs-nav, .ui-tabs-panel {
    font-family: "Trebuchet MS", Trebuchet, Verdana, Helvetica, Arial, sans-serif;
    font-size: 11px;
}
.ui-tabs-nav {
    list-style: none;
    margin: 0;
    padding: 0 0 0 4px;
}
.ui-tabs-nav:after { /* clearing without presentational markup, IE gets extra treatment */
    display: block;
    clear: both;
    content: " ";
}
.ui-tabs-nav li {
    float: left;
    margin: 0 0 0 1px;
}
.ui-tabs-nav a, .ui-tabs-nav a span {
    display: block;
    padding: 0 10px;
    background: url(tab.png) no-repeat;
}
.ui-tabs-nav a {
    margin: 1px 0 0; /* position: relative makes opacity fail for disabled tab in IE */
    padding-left: 0;
    color: #27537a;
    font-weight: bold;
    line-height: 1.3;
    text-align: center;
    text-decoration: none;
    white-space: nowrap; /* required in IE 6 */
    outline: 0; /* prevent dotted border in Firefox */
}
.ui-tabs-nav .ui-tabs-selected a {
    position: relative;
    top: 1px;
    z-index: 2;
    margin-top: 0;
    color: #000;
}
.ui-tabs-nav a span {
    padding-top: 6px;
    padding-right: 0;
    /*font-size:62%;*/
}
*>.ui-tabs-nav a span { /* hide from IE 6 */
    width: auto;
    height: auto;
}
.ui-tabs-nav .ui-tabs-selected a span {
    padding-bottom: 1px;
}
.ui-tabs-nav .ui-tabs-selected a, .ui-tabs-nav a:hover, .ui-tabs-nav a:focus, .ui-tabs-nav a:active {
    background-position: 100% -150px;
}
.ui-tabs-nav a, .ui-tabs-nav .ui-tabs-disabled a:hover, .ui-tabs-nav .ui-tabs-disabled a:focus, .ui-tabs-nav .ui-tabs-disabled a:active {
    background-position: 100% -100px;
}
.ui-tabs-nav .ui-tabs-selected a span, .ui-tabs-nav a:hover span, .ui-tabs-nav a:focus span, .ui-tabs-nav a:active span {
    background-position: 0 -50px;
    color:#000000;
}
.ui-tabs-nav a span, .ui-tabs-nav .ui-tabs-disabled a:hover span, .ui-tabs-nav .ui-tabs-disabled a:focus span, .ui-tabs-nav .ui-tabs-disabled a:active span {
    background-position: 0 0;
}
.ui-tabs-nav .ui-tabs-selected a:link, .ui-tabs-nav .ui-tabs-selected a:visited, .ui-tabs-nav .ui-tabs-disabled a:link, .ui-tabs-nav .ui-tabs-disabled a:visited { /* @ Opera, use pseudo classes otherwise it confuses cursor... */
    cursor: text;
}
.ui-tabs-nav a:hover, .ui-tabs-nav a:focus, .ui-tabs-nav a:active,
.ui-tabs-nav .ui-tabs-deselectable a:hover, .ui-tabs-nav .ui-tabs-deselectable a:focus, .ui-tabs-nav .ui-tabs-deselectable a:active { /* @ Opera, we need to be explicit again here now... */
    cursor: pointer;
}
.ui-tabs-disabled {
    opacity: .4;
    filter: alpha(opacity=40);
}
.ui-tabs-panel {
    border-top: 1px solid #97a5b0;
    padding: 1em 8px;
    height:255px;
    background: #fff; /* declare background color for container to avoid distorted fonts in IE while fading */
}
.ui-tabs-loading em {
    padding: 0 0 0 20px;
    background: url(loading.gif) no-repeat 0 50%;
}

/* Additional IE specific bug fixes... */
* html .ui-tabs-nav { /* auto clear, @ IE 6 & IE 7 Quirks Mode */
    display: inline-block;
}
*:first-child+html .ui-tabs-nav  { /* @ IE 7 Standards Mode - do not group selectors, otherwise IE 6 will ignore complete rule (because of the unknown + combinator)... */
    display: inline-block;
}



h2 {
  font-size: 12px;
  font-family:arial, helvetica, sans-serif;
  line-height:1em;
  font-weight: bold;
  display: block;
  height:38px;
  overflow:hidden;
  margin:0;
}

.description {
 display:block;
}
.principalContainer{
 float:left;
 margin-left:10px;
}

.otherItems{
  clear:both;
  font-family: arial, sans-serif;
  margin-left:15px;
}

.principalThumbnail {

  width: 150px;
  height: 150px;
  margin-right: 5px;
  margin-bottom: 5px;
  display: block;
  float: left;
  text-align: center;
  background-position:center center;
  background-repeat:no-repeat;

}

</style>

    <script type="text/javascript">

    var prefs = new gadgets.Prefs();
    var entriesCount = prefs.getInt("num_entries");
    var title = unescape(prefs.getString("title"));


      function getParametersRequest(){
        var params = {};
        params[gadgets.io.RequestParameters.CONTENT_TYPE] = gadgets.io.ContentType.FEED;
        params[gadgets.io.RequestParameters.GET_SUMMARIES] = true;
        params[gadgets.io.RequestParameters.REFRESH_INTERVAL] = 15;
        params[gadgets.io.RequestParameters.NUM_ENTRIES] = entriesCount;
        params[gadgets.io.RequestParameters.AUTHORIZATION] = gadgets.io.AuthorizationType.SIGNED;
    return params;
      }

      function getTitles(){
        var tabTitles = [];
      for(var i=1; i <= 4; ++i) {
         tabTitles.push(prefs.getString("rssTitle" + i));
      }
      return tabTitles;
      }

      function getUrls(){
        var tabUrls = [];
       for(var i=1; i <= 3; ++i) {
         tabUrls.push(prefs.getString("url_" + i));
      }
      return tabUrls;
      }

    function run(){
       var load = new actualites.Actualites.Loader(getUrls(), getParametersRequest());
       var actu = new actualites.Actualites(getTitles(), load);
       actu.initialize();
       _IG_SetTitle(title);
       }

     gadgets.util.registerOnLoadHandler(run);

    </script>
    ]]>
  </Content>
</Module>