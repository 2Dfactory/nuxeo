<component name="sample.shibboleth.config">

  <require>org.nuxeo.ecm.platform.ui.web.auth.defaultConfig</require>
  <require>org.nuxeo.ecm.platform.login.shibboleth</require>

  <extension
      target="org.nuxeo.ecm.platform.ui.web.auth.service.PluggableAuthenticationService"
      point="chain">
    <authenticationChain>
      <plugins>
        <plugin>BASIC_AUTH</plugin>
        <plugin>SHIB_AUTH</plugin>
      </plugins>
    </authenticationChain>
  </extension>


  <extension
    target="org.nuxeo.ecm.platform.ui.web.auth.shib.ShibbolethAuthenticationService"
    point="config">
    <config>
      <loginURL>https://host/Shibboleth.sso/WAYF</loginURL>
      <loginRedirectURLParameter>target</loginRedirectURLParameter>
      <logoutURL>https://host/Shibboleth.sso/Logout</logoutURL>
      <logoutRedirectURLParameter>return</logoutRedirectURLParameter>

      <uidHeader>uid</uidHeader>
      <fieldMapping header="uid">username</fieldMapping>
      <fieldMapping header="mail">email</fieldMapping>
    </config>
  </extension>

</component>
