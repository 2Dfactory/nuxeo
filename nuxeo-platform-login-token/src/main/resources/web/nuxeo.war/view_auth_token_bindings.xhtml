<div xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:a4j="http://richfaces.org/a4j"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:nxl="http://nuxeo.org/nxforms/layout">

  <script type="text/javascript">
    function confirmRevokeTokenBinding() {
      return confirm("#{messages['label.tokenauth.revoke.confirm']}");
    }
  </script>

  <a4j:outputPanel id="authTokenBindingsPanel">
  <nxu:set var="currentUserAuthTokenBindings" cache="true" value="#{tokenAuthenticationActions.currentUserAuthTokenBindings}">
  
  <div class="tabsContent">

    <a4j:form id="currentUserAuthTokenBindings"
      rendered="#{!empty currentUserAuthTokenBindings}">

      <table class="dataOutput">
        <thead>
          <nxl:layout name="authTokenBindings" mode="header" value="#{authTokenBinding}" />
        </thead>        
        <tbody>
          <c:forEach var="authTokenBinding" items="#{currentUserAuthTokenBindings}"
            varStatus="status">
            <c:if test="#{status.index % 2 == 0}">
              <c:set var="authTokenBindingClass" value="dataRowOdd" />
            </c:if>
            <c:if test="#{status.index % 2 != 0}">
              <c:set var="authTokenBindingClass" value="dataRowEven" />
            </c:if>            
            <nxl:layout name="authTokenBindings" mode="list" value="#{authTokenBinding}" />
          </c:forEach>
        </tbody>
      </table>

    </a4j:form>
    
    <h:outputText value="#{messages['label.tokenauth.noTokens']}"
      rendered="#{empty currentUserAuthTokenBindings}"/>

  </div>
  
  </nxu:set>
  </a4j:outputPanel>

</div>
