<?xml version="1.0"?>
<component name="org.nuxeo.ecm.platform.relations.services.RelationService">

  <implementation
      class="org.nuxeo.ecm.platform.relations.services.RelationService"/>

  <service>
    <provide interface="org.nuxeo.ecm.platform.relations.api.RelationManager"/>
  </service>

  <extension-point name="graphtypes">
    <object
        class="org.nuxeo.ecm.platform.relations.descriptors.GraphTypeDescriptor"/>
  </extension-point>

  <extension-point name="graphs">
    <object
        class="org.nuxeo.ecm.platform.relations.descriptors.GraphDescriptor"/>
  </extension-point>

  <extension-point name="resourceadapters">
    <object
        class="org.nuxeo.ecm.platform.relations.descriptors.ResourceAdapterDescriptor"/>
  </extension-point>

  <extension target="org.nuxeo.ecm.platform.relations.services.RelationService"
    point="resourceadapters">
    <adapter namespace="http://www.nuxeo.org/document/uid/"
      class="org.nuxeo.ecm.platform.relations.adapters.DocumentModelResourceAdapter" />
    <!-- compat with incorrect code -->
    <adapter namespace="http://www.nuxeo.org/document/uid"
      class="org.nuxeo.ecm.platform.relations.adapters.DocumentModelResourceAdapter" />
  </extension>

  <extension target="org.nuxeo.ecm.platform.relations.services.RelationService"
      point="graphtypes">
    <graphtype name="core"
      class="org.nuxeo.ecm.platform.relations.CoreGraph" />
  </extension>

  <extension target="org.nuxeo.ecm.core.schema.TypeService"
    point="doctype">
    <doctype name="DefaultRelation" extends="Relation">
      <facet name="HiddenInNavigation" />
    </doctype>
  </extension>

</component>
