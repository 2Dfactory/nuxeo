<?xml version="1.0" encoding="UTF-8"?>
<component name="org.nuxeo.ecm.webapp.seam.debug.action">

  <extension target="org.nuxeo.ecm.platform.actions.ActionService"
    point="actions">

    <action id="seamReload" link="#{seamReload.doReload}" enabled="true"
      label="Reload Seam" order="10">
      <category>USER_MENU_ACTIONS</category>
      <filter-id>seamHotReloadIsEnabled</filter-id>
    </action>

    <!-- NXP-7025: disable pdf export on doc -->
    <!--
      <action id="pdfExport" link="pdf" order="18"
      label="label.exportview.pdfExport" icon="/icons/pdf_export.png">
      <category>DOCUMENT_UPPER_ACTION</category>
      </action>
    -->

    <action id="exportViewPDFExport"
      link="#{restHelper.getDocumentUrl(currentDocument, 'pdf', true)}" order="0"
      label="label.exportview.pdfExport" icon="/icons/pdf_export.png">
      <category>DOCUMENT_EXPORT_VIEW_ACTION</category>
    </action>

    <action id="exportViewZipBlobExport" link="#{clipboardActions.exportWorklistAsZip(currentDocument)}"
      label="label.exportview.zipBlobExport" icon="/icons/action_export_zip.gif">
      <category>DOCUMENT_EXPORT_VIEW_COMMAND_ACTION</category>
    </action>

    <!-- Contextual tools buttons contrib NXP-9039 -->
    <action id="DOCUMENT_LOCK" link="#{lockActions.lockCurrentDocument}" order="1"
      label="command.lock" icon="" type="link_icon">
      <category>DOCUMENT_UPPER_ACTION</category>
      <filter-id>mutable_document</filter-id>
      <filter-id>can_lock</filter-id>
    </action>
    <action id="DOCUMENT_UNLOCK" link="#{lockActions.unlockCurrentDocument}" order="1"
      label="command.unlock" icon="" type="link_icon">
      <category>DOCUMENT_UPPER_ACTION</category>
      <filter-id>mutable_document</filter-id>
      <filter-id>can_unlock</filter-id>
    </action>
    <action id="addCurrentDocumentToWorklist"
      link="#{operationActionBean.doOperation('addCurrentDocumentToWorklist')}"
      order="10" label="help.command.clipboard.addworklist" type="link_icon"
      icon="/icons/action_add.gif" immediate="true">
      <category>DOCUMENT_UPPER_ACTION</category>
      <filter-id>not_folder</filter-id>
      <filter-id>not_anonymous</filter-id>
    </action>
  </extension>

  <extension target="org.nuxeo.ecm.platform.actions.ActionService"
    point="filters">

    <filter id="seamHotReloadIsEnabled">
      <rule grant="true">
        <condition>#{seamHotReloadIsEnabled}</condition>
      </rule>
    </filter>

  </extension>

  <extension target="org.nuxeo.ecm.platform.actions.ActionService"
    point="typeCompatibility">

   <!-- UI action type compatibility  -->
    <typeCompatibility id="iconType" type="link_icon">
      <category>DOCUMENT_UPPER_ACTION</category>
      <category>DOCUMENT_HEADER_ACTIONS_LIST</category>
    </typeCompatibility>
    <typeCompatibility id="iconTextType" type="link_icon_text">
      <category>DEFAULT_LIST</category>
      <category>CLIPBOARD_LIST</category>
    </typeCompatibility>
    <typeCompatibility id="buttonType" type="button">
      <category>CURRENT_SELECTION_COPY</category>
      <category>CLIPBOARD_PASTE</category>
      <category>CURRENT_SELECTION_ADDTOLIST</category>
      <category>CURRENT_SELECTION_TRASH</category>
      <category>CREATE_DOCUMENT_FORM</category>
      <category>EDIT_DOCUMENT_FORM</category>
    </typeCompatibility>
    <typeCompatibility id="linkType" type="link">
      <category>USER_SERVICES</category>
      <category>USER_MENU_ACTIONS</category>
    </typeCompatibility>
    <typeCompatibility id="bareType" type="bare_link">
      <category>DOCUMENT_HEADER_ACTIONS_LIST_HREF</category>
      <category>USER_MENU_ACTIONS</category>
    </typeCompatibility>
  </extension>

</component>
