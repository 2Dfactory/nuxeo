<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:widget="http://www.netvibes.com/ns/">
<head>

<title>Image box</title>

<meta name="author" content="Author name" />
<meta name="version" content="0.0.1" />

<widget:preferences>
  <preference name="src" type="image" label="Image file" defaultValue="" />
  <preference name="alt" type="text" label="Alternate text" defaultValue="" />
  <preference name="width" type="text" label="Width" defaultValue="" />
  <preference name="height" type="text" label="Height" defaultValue="" />
</widget:preferences>

<script type="text/javascript">
var ImageBox = {}

ImageBox.display = function() {
  var img = widget.createElement('img');
  var src = widget.getValue('src');
  var width = widget.getValue('width');
  var alt = widget.getValue('alt');
  var height = widget.getValue('height');

  if (src) {
    img.src = src;
    if (width) {
      img.width = width;
    }
    if (height) {
      img.height = height;
    }
    img.alt = alt;
    widget.setBody(img);
  } else {
    widget.setBody('<p>Please set the image source.</p>');
  }
}

widget.onLoad = function() {
  ImageBox.display();
}

widget.onRefresh = widget.onLoad;

</script>

</head>
<body>
</body>
</html>
