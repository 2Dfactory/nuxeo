<?xml version="1.0"?>
<component name="org.nuxeo.theme.styling.tests.themeStylingContrib">

  <extension target="org.nuxeo.theme.styling.service" point="pages">
    <themePage name="testStyling/default">
      <defaultFlavor>default</defaultFlavor>
      <flavors>
        <flavor>default</flavor>
        <flavor>dark</flavor>
      </flavors>
      <styles>
        <style>nuxeo_dm_default</style>
      </styles>
    </themePage>

    <themePage name="testStyling/print">
      <defaultFlavor>default</defaultFlavor>
      <flavors>
        <flavor>default</flavor>
        <flavor>dark</flavor>
      </flavors>
      <styles>
        <style>print_default</style>
      </styles>
    </themePage>
  </extension>

  <!-- Register flavors (collections of presets) -->
  <extension target="org.nuxeo.theme.styling.service" point="flavors">

    <flavor name="default">
      <presetsList>
        <!-- TODO: use one file for all categories with a custom parser -->
        <presets category="border" src="themes/palettes/default-borders.properties" />
        <presets category="background"
          src="themes/palettes/default-backgrounds.properties" />
        <presets category="font" src="themes/palettes/default-fonts.properties" />
        <presets category="color" src="themes/palettes/default-colors.properties" />
      </presetsList>
    </flavor>

    <flavor name="dark">
      <presetsList>
        <!-- TODO: use one file for all categories with a custom parser -->
        <presets category="border" src="themes/palettes/dark-borders.properties" />
        <presets category="background" src="themes/palettes/dark-backgrounds.properties" />
        <presets category="font" src="themes/palettes/dark-fonts.properties" />
        <presets category="color" src="themes/palettes/dark-colors.properties" />
      </presetsList>
    </flavor>

  </extension>

  <!-- Register style resources (contain indirect references to flavor names, i.e.
    "__FLAVOR__") -->
  <extension target="org.nuxeo.theme.styling.service" point="styles">
    <style name="nuxeo_dm_default">
      <path>themes/css/nuxeo_dm_default.css</path>
    </style>
    <style name="print_default">
      <path>themes/css/print_default.css</path>
    </style>
  </extension>

</component>
